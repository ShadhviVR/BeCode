<!--
 * becode/javascript
 *
 * /10-asynchronous/02-get-comments/index.html - 10.2: chargement d'articles et de commentaires
 *
 * coded by leny@BeCode
 * started at 09/05/2019
-->
<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8" />
        <title>BeCode/JavaScript - 10.2: chargement d'articles et de commentaires</title>

        <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" />
        <link rel="stylesheet" href="../../_shared/css/normalize.css" />
        <link rel="stylesheet" href="../../_shared/css/styles.css" />
    </head>
    <body>
        <div class="container">
            <header>
                <h1>BeCode / JavaScript</h1>
                <h2>
                    <span>10.2</span>
                    <strong>chargement d'articles et de commentaires</strong>
                </h2>
            </header>
            <div class="content">
                <section class="explain">
                    <p>Tu as dû remarquer, dans l'exercice précédent, que les articles reçus via la fonction <strong>window.lib.getPosts</strong> comprennaient une propriété <strong>id</strong>.</p>
                    <p>La fonction <strong>window.lib.getComments()</strong> est disponible dans le script. Elle doit recevoir un id d'article comme premier paramètre, ainsi qu'un callback en second paramètre. Après un petit délai, le callback sera exécuté avec deux paramètres : le premier contient une erreur (s'il y en a une, sinon <em>null</em>), le second un tableau des commentaires de l'article.</p>
                    <p>Au clic sur le bouton, appelle la fonction getPosts. Pour chaque article récupéré, appelle la fonction getComments et ajoute les commentaires obtenus dans une propriété <em>comments</em> de l'article. Affiche les articles dans la console (les fonctions getPosts et getComments ne retournent jamais d'erreur).</p>
                </section>
                <section class="material">
                    <div class="actions">
                        <button type="button" id="run">Lancer le script</button>
                    </div>
                </section>
            </div>
        </div>

        <script src="../../_shared/lib/utils.js"></script>
        <script src="../../_shared/lib/callbacks.js"></script>
        <script src="./script.js"></script>
    </body>
</html>

